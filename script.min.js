document.addEventListener("DOMContentLoaded",()=>{const header=document.querySelector(".site-header");if(header){window.addEventListener("scroll",()=>{header.classList.toggle("scrolled",window.scrollY>60)},{passive:true})}const navToggle=document.querySelector(".nav-toggle");const navLinks=document.querySelector(".nav-links");if(navToggle&&navLinks){navToggle.addEventListener("click",()=>{navToggle.classList.toggle("open");navLinks.classList.toggle("open");document.body.style.overflow=navLinks.classList.contains("open")?"hidden":""});navLinks.querySelectorAll("a").forEach(link=>{link.addEventListener("click",()=>{navToggle.classList.remove("open");navLinks.classList.remove("open");document.body.style.overflow=""})})}const faqItems=document.querySelectorAll(".faq-item");faqItems.forEach(item=>{const question=item.querySelector(".faq-question");if(question){question.addEventListener("click",()=>{const isActive=item.classList.contains("active");faqItems.forEach(i=>i.classList.remove("active"));if(!isActive){item.classList.add("active")}})}});const revealElements=document.querySelectorAll(".reveal, .reveal-stagger");if("IntersectionObserver"in window){const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add("visible");observer.unobserve(entry.target)}})},{threshold:.15,rootMargin:"0px 0px -40px 0px"});revealElements.forEach(el=>observer.observe(el))}else{revealElements.forEach(el=>el.classList.add("visible"))}document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",e=>{const targetId=anchor.getAttribute("href");if(targetId==="#")return;const target=document.querySelector(targetId);if(target){e.preventDefault();const headerHeight=header?header.offsetHeight:0;const top=target.getBoundingClientRect().top+window.scrollY-headerHeight-20;window.scrollTo({top:top,behavior:"smooth"})}})});const carouselTrack=document.querySelector(".carousel-track");const carouselCards=document.querySelectorAll(".testimonial-card");const dotsContainer=document.querySelector(".carousel-dots");const prevBtn=document.querySelector(".carousel-prev");const nextBtn=document.querySelector(".carousel-next");if(carouselTrack&&carouselCards.length>0){let currentSlide=0;const totalSlides=carouselCards.length;let autoPlayInterval;carouselCards.forEach((_,i)=>{const dot=document.createElement("button");dot.classList.add("carousel-dot");dot.setAttribute("aria-label",`Slide ${i+1}`);if(i===0)dot.classList.add("active");dot.addEventListener("click",()=>goToSlide(i));dotsContainer.appendChild(dot)});const dots=dotsContainer.querySelectorAll(".carousel-dot");function goToSlide(index){currentSlide=index;carouselTrack.style.transform=`translateX(-${currentSlide*100}%)`;dots.forEach((d,i)=>d.classList.toggle("active",i===currentSlide))}function nextSlide(){goToSlide((currentSlide+1)%totalSlides)}function prevSlide(){goToSlide((currentSlide-1+totalSlides)%totalSlides)}if(nextBtn)nextBtn.addEventListener("click",()=>{nextSlide();resetAutoPlay()});if(prevBtn)prevBtn.addEventListener("click",()=>{prevSlide();resetAutoPlay()});function startAutoPlay(){autoPlayInterval=setInterval(nextSlide,6e3)}function resetAutoPlay(){clearInterval(autoPlayInterval);startAutoPlay()}startAutoPlay();let touchStartX=0;carouselTrack.addEventListener("touchstart",e=>{touchStartX=e.touches[0].clientX},{passive:true});carouselTrack.addEventListener("touchend",e=>{const diff=touchStartX-e.changedTouches[0].clientX;if(Math.abs(diff)>50){if(diff>0)nextSlide();else prevSlide();resetAutoPlay()}},{passive:true})}const makingOfItems=document.querySelectorAll(".makingof-item");makingOfItems.forEach(item=>{const video=item.querySelector("video");if(!video)return;item.addEventListener("click",()=>{if(video.paused){makingOfItems.forEach(other=>{const otherVideo=other.querySelector("video");if(otherVideo&&otherVideo!==video){otherVideo.pause();otherVideo.muted=true;other.classList.remove("playing")}});video.muted=false;video.play();item.classList.add("playing")}else{video.pause();video.muted=true;item.classList.remove("playing")}})})});